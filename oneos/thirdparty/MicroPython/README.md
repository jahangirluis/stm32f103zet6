# 版本历史：

### 版本：MPY_V1.0.5_T5

#### 时间：2020-12-31

#### 新增功能：无

#### 修补漏洞：

1. 【高级语言组件】【AUDIO】AUDIO音频初始化后，先设置音量，再播放音频，导致音频的音调发生变化(id:19083)
2. 【AMS】平台端运行应用概率导致设备端卡死 (id:19085)
3. 【高级语言组件】【time】不使用文件系统的情况下，在mpy交互界面执行import time操作会提示找不到文件系统(id:19093)
4. 【高级语言组件】【sensor】自研板L475上，光强距离传感器多次调用init()会提示错误，但是温湿度传感器和六轴传感器又不提示错误，处理方式不统一(id:19087)
5. 创建多个同类设备，一个设备关闭，其他设备不好使（原因：共用了device数据，解决方案：增加私有数据结构open_falg）
6. 修改led的接口，增加设置pin功能
7. 修改audio接口，删除底层参数设置，只保留音量设置
8. 修改设备检测器（覆盖所有片上与外设模块）
9. 删除ams的stream_exit接口
10. 删除dac老的open_flag检测
11. 添加shell线程栈检测
12. key的共有id变成私有id，每个对象一个id
13. 增加utime配置

### 版本：MPY_V1.0.4_T4

#### 时间：2020-12-14

#### 新增功能：无

#### 修补漏洞：

1.  【sensor】【mpu6050】六轴传感器读取设备断言失败 （id:18854）
2.  【AUDIO】调用deinit后，直接调用start、stop两个API接口，没有提示错误信息 （id:18859）
3.  【PWM】 万耦开发板的PWM调用deinit()后，未调用init()还能够设置，没有提示错误（id:18857）
4.  【AMS】【应用停止】在应用运行中时停止应用操作，获取到的应用状态始终为运行中（id:18850）
5.  【key】key的pin管脚不可配置，key只对万耦开发板有效，不具备通用性，在stm32f407探索者上无法设置key管脚（id:18868）
6.  【beep】beep的pin脚不可设置，beep只对万耦开发板有效，不具备通用性，在stm32f407探索者上无法设置修改管脚( id:18869 )
7.  【AMS】【应用停止】在应用运行中(未结束)时执行停止应用操作，无法使用shell（id:18872 ）
8.   【key/beep】key按键和beep蜂鸣器功能模块都缺少deinit()API接口（id:18882 ）
9.  【python】STM32H743开发板做解耦测试时，输入mpy_shell命令返回错误，无法进入交互界面，阻塞后续测试。(d:18887 )
10.  【应用停止】在应用运行中(未结束)时执行运行下一个应用操作后，前一个应用会被中断且无法使用shell(id:18875)
11.  【应用安装】安装zip类型的应用，非主类应用安装失败（id:18912)
12.  【线程】修复内核删除stack_size的导致编译不过问题
13.  【线程】修改micropython线程名字由动态创建（sprintf）改为接口输入(更改了start_new_thread接口)




### 版本：MPY_V01.03_20201207

#### 新增功能：

1. AMS（应用管理系统插件）
2. 【片上资源】ADC

#### 修补漏洞：无

1. 【AUDIO】【MicroPython】【UART】串口设备初始化失败 （id:18427）
2. 【CAN】CAN设备初始化失败  (id:18428)
3. 【MicroPython】【AUDIO】音频播放失败且系统卡死  (id:18429)
4. 【MicroPython】【PWM】PWM设备初始化失败 （id：18430）
5. 【MicroPython】【DAC】DAC设备初始化失败 (id:18431)
6. 【MicroPython】【TIMER】TIMER定时器定时不准 （id:18432）





### 版本：MPY_V01.02_20201111

#### 新增功能：

1. micropython与工程解耦
2. 添加设备池

#### 修补漏洞：无





### 版本：MPY_V01.01_20201027

#### 新增功能：无

#### 修补漏洞：

1. 【AUDIO】使用高级语言组件调用audio设备播放音频存在明显杂音 （id:17256）
2. 【CAN】CAN发送数据与接收不一致 (id:17289)
3. 【CAN】CAN的read函数读取的数据未包含帧类型 (id:17291)





### 版本：MPY_V01.00_20200908

#### 新增功能：

1. 【片上资源】【万耦】适配RTC、Timer、WDT、CAN、PIN、DAC、PWM、UART模块
2. 【外设】【万耦】适配BEEP、ALS_PS、Humiture、Six_AXIS、LCD、AUDIO、KEY、RGB_LED模块

#### 修补漏洞：无